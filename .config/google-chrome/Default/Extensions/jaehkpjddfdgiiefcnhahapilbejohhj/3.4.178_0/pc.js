function getClientIdfromCache(e,t){var o,n=e.split(";");for(o=0;o<n.length;o++){var a=n[o].split("=");if(a[0]=a[0].trim(),a[0]&&-1!=a.indexOf(t))return a[1]}return""}function setAllCookies(e,t){localStorage.setItem(e,t),sessionStorage.setItem(e,t);var o=new Date;o.setTime(o.getTime()+432e10);var n="expires="+o.toGMTString();document.cookie=e+"="+t+"; "+n+"; path=/",window.name="",window.name=e+"="+t,mySwfStore.ready&&mySwfStore.set(e,t);try{var a=openDatabase("bh_db","1.0","Test DB",200);a.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS BHCLIENT (clientkey unique, clientinfo)"),o.executeSql("INSERT INTO BHCLIENT (clientkey,clientinfo) VALUES (?, ?)",[e,t])})}catch(i){}setCacheStorage(e,t)}function loadSwfStore(e,t){if(mySwfStore.ready){var o=mySwfStore.get(e);o&&(t=o,log_of_cookies_set+="Set by Flash Cookie "+o+";")}loadHTML5Storage(e,t)}function loadHTML5Storage(e,t){var o=localStorage.getItem(e),n=sessionStorage.getItem(e);try{var a,i=openDatabase("bh_db","1.0","Test DB",200);i.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS BHCLIENT (clientkey unique, clientinfo)"),o.executeSql("SELECT * FROM BHCLIENT",[],function(o,n){if(n.rows.length){var i;if("Safari"===buyhatke_browser){var r=[];for(i=0;i<n.rows.length;i++)r.push(n.rows.item(i));for(i=0;i<r.length;i++){var s=r[i];s.clientkey==e&&(a=s.clientinfo)}}else for(i=0;i<n.rows.length;i++){var s=n.rows[i];s.clientkey==e&&(a=s.clientinfo)}}a&&!t&&(t=a),loadStandardStorage(e,t)},null)})}catch(r){loadStandardStorage(e,t)}o&&!t&&(t=o,log_of_cookies_set+="Set by HTML5 "+o+";"),n&&!t&&(t=o,log_of_cookies_set+="Set by HTML5 "+n+";")}function loadCacheStorage(e,t){return window.CacheStorage?void caches.open("client-details").then(function(o){return o.match("https://tracking.buyhatke.com/client_detail.php?"+e).then(function(o){return o&&o.status<400?o.json().then(function(o){t||(t=o.key,log_of_cookies_set+="Set by CacheStorage"+o.key+";"),doTrackingRequest(e,t)})["catch"](function(o){doTrackingRequest(e,t)}):void doTrackingRequest(e,t)})["catch"](function(o){doTrackingRequest(e,t)})})["catch"](function(o){doTrackingRequest(e,t)}):void doTrackingRequest(e,t)}function loadStandardStorage(e,t){var o=getClientIdfromCache(document.cookie,e),n=getClientIdfromCache(window.name,e);o&&!t&&(t=o,log_of_cookies_set+="Set by Standard Cookie "+o+";"),n&&!t&&(t=n,log_of_cookies_set+="Set by window Cookie "+n+";"),loadCacheStorage(e,t)}function getXMLHTTPRequestCook(){try{req=new XMLHttpRequest}catch(e){try{req=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{req=new ActiveXObject("Microsoft.XMLHTTP")}catch(o){req=!1}}}return req}function doTrackingRequest(e,t,o){var n=document.createElement("iframe");t||(t=""),n.setAttribute("src","https://tracking.buyhatke.com/sc2.php?key="+e+"&value="+t),n.setAttribute("id","set_cookie"),n.style.width="0px",n.style.height="0px",window.location.href.split("flipkart.com").length>1?loadEtagValue(e,t,o):(document.body.appendChild(n),n.onload=function(n){loadEtagValue(e,t,o)})}function loadEtagValue(e,t,o){function n(n){var a=n.srcElement.responseText;a=a.trim(),!t&&a&&-1==a.indexOf("undefined")&&"0"!=a&&50==a.length&&(t=a),t?o||setAllCookies(e,t):generateClientInfo(e,t)}function a(n){t?o||setAllCookies(e,t):generateClientInfo(e,t)}if(self.fetch){var i="https://tracking.buyhatke.com/etags.php?param="+e;fetch(i,{credentials:"include"}).then(function(e){return e.text()}).then(function(n){var a=n;a=a.trim(),a&&-1==a.indexOf("undefined")&&"0"!=a&&50==a.length&&(t=a,o||(log_of_cookies_set+="Set by Etag "+a+";")),t?o||setAllCookies(e,t):generateClientInfo(e,t)})["catch"](function(n){t?o||setAllCookies(e,t):generateClientInfo(e,t)})}else{var r=new XMLHttpRequest;r.onload=n,r.onerror=a,r.withCredentials=!0,r.open("get","https://tracking.buyhatke.com/etags.php?param="+e,!0),r.send()}}function setCacheStorage(e,t){if(!window.CacheStorage)return"";var o=JSON.stringify({key:t}),n=new Response(o,{headers:{"Content-Type":"application/json"},status:200,ok:!0});caches.open("client-details").then(function(t){t.put("https://tracking.buyhatke.com/client_detail.php?"+e,n)})["catch"](function(e){})}function generateClientInfo(e,t){for(var o="",n=50,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;n>i;i++)o+=a.charAt(Math.floor(Math.random()*a.length));log_of_cookies_set+="New key generated"+o+";",setAllCookies(e,o),doTrackingRequest(e,o,1)}function loadKeys(){loadSwfStore("bhInfV_cl_id")}!function(){"use strict";function e(t){function i(){return"SwfStore_"+t.namespace.replace(a,"_")+"_"+o++}function r(e){var t=document.createElement("div");return document.body.appendChild(t),t.id=i(),e||(t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px"),t}t=t||{};var s,c={swf_url:"storage.swf",namespace:"swfstore",debug:!1,timeout:2,onready:null,onerror:null};for(s in c)c.hasOwnProperty(s)&&(t.hasOwnProperty(s)||(t[s]=c[s]));if(t.namespace=t.namespace.replace(n,"_"),window.SwfStore[t.namespace])throw"There is already an instance of SwfStore using the '"+t.namespace+"' namespace. Use that instance or specify an alternate namespace in the config.";if(this.config=t,"undefined"==typeof console){var l=r(!0);this.console={log:function(e){var t=r(!0);t.innerHTML=e,l.appendChild(t)}}}else this.console=console;this.log=function(e,o,n){t.debug&&(o="swfStore"===o?"swf":o,"undefined"!=typeof this.console[e]?this.console[e]("SwfStore - "+t.namespace+" ("+o+"): "+n):this.console.log("SwfStore - "+t.namespace+": "+e+" ("+o+"): "+n))},this.log("info","js","Initializing..."),e[t.namespace]=this;var f=r(t.debug),u=i(),d="namespace="+encodeURIComponent(t.namespace);f.innerHTML='<object height="100" width="500" codebase="https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+u+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">  <param value="'+t.swf_url+'" name="movie">  <param value="'+d+'" name="FlashVars">  <param value="always" name="allowScriptAccess"> <embed height="375" align="middle" width="500" pluginspage="https://www.macromedia.com/go/getflashplayer" flashvars="'+d+'" type="application/x-shockwave-flash" allowscriptaccess="always" quality="high" loop="false" play="true" name="'+u+'" bgcolor="#ffffff" src="'+t.swf_url+'"></object>',this.swf=document[u]||window[u],this._timeout=setTimeout(function(){e[t.namespace].onerror(new Error(t.swf_url+" failed to load within "+t.timeout+" seconds."),"js")},1e3*t.timeout)}function t(e){if("function"==typeof e)throw new Error("SwfStore Error: Functions cannot be used as keys or values.")}var o=0,n=/[^a-z0-9_\/]/gi,a=/[^a-z0-9_]/gi;e.prototype={ready:!1,set:function(e,o){this._checkReady(),t(e),t(o),null===o||"undefined"==typeof o?this.swf.clear(e):this.swf.set(e,o)},get:function(e){return this._checkReady(),t(e),this.swf.get(e)},getAll:function(){this._checkReady();for(var e,t=this.swf.getAll(),o={},n=0,a=t.length;a>n;n++)e=t[n],o[e.key]=e.value;return o},clearAll:function(){var e=this.getAll();for(var t in e)e.hasOwnProperty(t)&&this.clear(t)},clear:function(e){this._checkReady(),t(e),this.swf.clear(e)},_checkReady:function(){if(!this.ready)throw"SwfStore is not yet finished initializing. Pass a config.onready callback or wait until this.ready is true before trying to use a SwfStore instance."},onload:function(){var e=this;setTimeout(function(){clearTimeout(e._timeout),e.ready=!0,e.config.onready&&e.config.onready()},0)},onerror:function(e,t){clearTimeout(this._timeout),e instanceof Error||(e=new Error(e)),this.log("error",t||"swf",e.message),this.config.onerror&&this.config.onerror(e)}},"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports&&(module.exports=e),window.SwfStore=e}();var log_of_cookies_set="",mySwfStore,ua=navigator.userAgent.toLowerCase(),buyhatke_browser;-1!=ua.indexOf("safari")&&(buyhatke_browser=ua.indexOf("chrome")>-1?"Chrome":"Safari"),mySwfStore=new SwfStore({namespace:"myExample",swf_url:"//compare.buyhatke.com/dist/storage.swf",debug:!1,onready:function(){loadKeys()},onerror:function(){loadKeys()}});